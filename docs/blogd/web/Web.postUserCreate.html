<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8"/>
		<title>Function Web.postUserCreate</title>
		<link rel="stylesheet" type="text/css" href="../../styles/ddox.css"/>
		<link rel="stylesheet" href="../../prettify/prettify.css" type="text/css"/>
		<script type="text/javascript" src="../../scripts/jquery.js">/**/</script>
		<script type="text/javascript" src="../../scripts/ddox.js">/**/</script>
	</head>
	<body onload="setupDdox();">
		<nav id="main-nav">
						<ul class="tree-view">
							<li class="tree-view">
								<a href="#" class="package">blogd</a>
						<ul class="tree-view">
							<li class="collapsed tree-view">
								<a href="#" class="package">models</a>
						<ul class="tree-view">
							<li>
								<a href="../../blogd/models/account.html" class=" module">account</a>
							</li>
						</ul>
							</li>
							<li>
								<a href="../../blogd/displaydata.html" class=" module">displaydata</a>
							</li>
							<li>
								<a href="../../blogd/userdata.html" class=" module">userdata</a>
							</li>
							<li>
								<a href="../../blogd/web.html" class="selected module">web</a>
							</li>
						</ul>
							</li>
						</ul>
				<noscript>
					<p style="color: red">The search functionality needs JavaScript enabled</p>
				</noscript>
				<div id="symbolSearchPane" style="display: none">
					<p>
						<input id="symbolSearch" type="text" placeholder="Search for symbols" onchange="performSymbolSearch(24);" onkeypress="this.onchange();" onpaste="this.onchange();" oninput="this.onchange();"/>
					</p>
	<ul id="symbolSearchResults" style="display: none"></ul>
	<script type="application/javascript" src="../../symbols.js"></script>
	<script type="application/javascript">
var symbolSearchRootDir = "../../";
$('#symbolSearchPane').show();
	</script>
				</div>
		</nav>
		<div id="main-contents">
			<h1>Function Web.postUserCreate</h1>
			<section>
				<p>POST "/user/create", validates new user details and inserts in db, redirects to GET "/" on success or to GET "/user/create" on failure
</p>
<section><p>This is a child to the user route "/user/" and handles the submitted create user form.
 The submitted data is checked to be valid, and checked to not already exist.
 If the user is auth'd they are redirected to GET "/".
 Else if the user does exist, or the submitted data isn't valid the user is redirected to GET "/user/create" with an error message.
 Else new user password is hashed, user details are inserted into the db, the user is auth'd and redirected to GET "/".
</p>
</section>

					<section>
						<h3>Prototype</h3>
						<div class="prototype">
							<code class="lang-d">
<span class="typ">void</span> <span class="pln">postUserCreate</span><span class="pun">(</span>
								<br/>
&nbsp;&nbsp;<span class="pln">vibe<wbr/></span><span class="pun">.</span><span class="pln">web<wbr/></span><span class="pun">.</span><span class="pln">validation<wbr/></span><span class="pun">.</span><span class="typ">ValidEmail</span> <span class="pln">email</span><span class="pun">,</span>
								<br/>
&nbsp;&nbsp;<span class="pln">vibe<wbr/></span><span class="pun">.</span><span class="pln">web<wbr/></span><span class="pun">.</span><span class="pln">validation<wbr/></span><span class="pun">.</span><span class="typ">ValidPassword</span> <span class="pln">password</span><span class="pun">,</span>
								<br/>
&nbsp;&nbsp;<span class="typ">string</span> <span class="pln">name</span>
								<br/>
<span class="pun">)</span><span class="pun">;</span>
							</code>
						</div>
					</section>
<section><h3>TODO</h3>
<p>send confirmation email to user and login via link
</p>
</section>
<section><h3>Parameters</h3>
<table><col class="caption"><tr><th>Name</th><th>Description</th></tr>
<tr><td id="email">email</td><td> field passed in via form</td></tr>
<tr><td id="password">password</td><td> field passed in via form</td></tr>
<tr><td id="name">name</td><td> field passed in via form</td></tr>
</table>
</section>

			</section>
			<section>
				<h2>Authors</h2>
<p>Joshua Hodkinson
</p>

			</section>
			<section>
				<h2>Copyright</h2>
<p>&copy; 2015 Joshua Hodkinson
</p>

			</section>
			<section>
				<h2>License</h2>
<p>MIT as per included LICENSE document
</p>

			</section>
		</div>
	</body>
</html>